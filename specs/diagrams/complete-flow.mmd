graph TB
    subgraph Input["INPUT"]
        S1["ğŸ¬ Claude Code<br/>Session Starts"]
    end

    subgraph Phase1["PHASE 1: FOUNDATION"]
        D1["ğŸ” Auto-detect<br/>billing mode"]
        S2["ğŸ’¾ Store session<br/>data persistently"]
        T1["ğŸ“Š Track 5h & 7d<br/>windows"]
    end

    subgraph Phase2["PHASE 2: SUBSCRIPTION EXCELLENCE"]
        B1["âš¡ Calculate burn rate<br/>in real-time"]
        L1["ğŸ“ˆ Show status line<br/>with quota context"]
        R1["ğŸ¯ Generate smart<br/>recommendations"]
        D2["ğŸ“± Build enhanced<br/>dashboard"]
    end

    subgraph Phase3["PHASE 3: CLAUDE ANALYZING CLAUDE"]
        P1["ğŸ“š Claude detects<br/>your patterns"]
        I1["ğŸ’¡ Generate natural<br/>language insights"]
        PR1["ğŸ”® Make predictive<br/>warnings"]
        L2["ğŸ“ˆ Track learning<br/>trajectory"]
    end

    subgraph Phase4["PHASE 4: POLISH & INTEGRATION"]
        C1["ğŸ¨ Customize<br/>status line"]
        E1["ğŸ“¤ Export to<br/>multiple formats"]
        A1["ğŸ† Achievement<br/>system"]
        AD1["ğŸ”¬ Advanced<br/>analytics"]
    end

    subgraph Output["OUTPUT"]
        V1["âœ¨ Real-time<br/>intelligent<br/>feedback<br/>loop"]
    end

    S1 --> D1
    D1 --> S2
    S2 --> T1
    T1 --> B1

    B1 --> L1
    L1 --> R1
    R1 --> D2
    D2 --> P1

    P1 --> I1
    I1 --> PR1
    PR1 --> L2
    L2 --> C1

    C1 --> E1
    E1 --> A1
    A1 --> AD1
    AD1 --> V1

    style Input fill:#bbdefb,stroke:#1565c0,stroke-width:2px
    style Phase1 fill:#e1f5ff,stroke:#01579b,stroke-width:2px
    style Phase2 fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    style Phase3 fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    style Phase4 fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style Output fill:#c8e6c9,stroke:#1b5e20,stroke-width:2px
